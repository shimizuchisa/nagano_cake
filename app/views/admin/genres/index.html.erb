<body>
  <%= render 'layouts/admin_header_template' %>
  <main>
    <% if @genre.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@genre.errors.count, "error") %>prohibited this obj from being saved:</h2>
      <ul>
        <% @genre.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
    <% end %>

    <div class="container">
      <%= render 'layouts/flash' %>
      <h1 class="mb-5">ジャンル一覧・追加</h1>
      <div class="row">
        <div class="col-10">
          <%= form_with model: @genre, url: admin_genres_path do |f| %>
          <div class="form-group form-inline">
            <%= f.label :genre_name, "ジャンル名", class: "col-2 mr-5" %>
            <%= f.text_field :genre_name, placeholder: "ジャンル名", class: "form-control mr-5 col-2" %>
            <%= f.submit "新規登録", class: "btn btn-success w-25" %>
          </div>
          <% end %>
        </div>
      </div>

      <div class="row mt-5">
        <div class="col-5">
          <table class="table border-bottom">
            <thead class="table-light">
              <tr>
                <th class="text-center" style="width: 60%">ジャンル名</th>
                <th></th>
              </tr>
            </thead>
            <% @genres.each do |genre| %>
            <tbody>
              <tr>
                <td><%= genre.genre_name %></td>
                <td><%= link_to "編集する", edit_admin_genre_path(genre.id), class: "btn btn-success btn-sm" %></td>
              </tr>
            <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </main>
  <%= render 'layouts/footer_template' %>
</body>
